<!DOCTYPE html>
<html>
<head>
<title>Quiz</title>
	
	
<script>

	var pos = 0;
	var correct = 0;
	var quiz, test_status, question, choice, choices, chA, chB, chC, chD;
	var timeleft = 11;

	var questions = [
		["What is the name of the capital of Switzerland?", "Genf", "Basel", "Lausanne", "Bern"],
		["What is the name of the biggest city in Switzerland?", "Genf", "Lausanne", "Bern", "Zurich"],
		["Who became a national hero out of a work by the German poet Schiller?", "Adolf Ogi", " AndrÃ© Bucher", "Willhelm Tell", "Roger Schawinsky"],
		["Switzerland has common borders with how many countries?", "3", "4", "5", "6"],
		["Who is the federal president of switzerland", "Simonetta Sommaruga", "Alain Berset", "Guy Parmelin", "Viola Amherd"],
		["What is the name of the highest mountain in Switzerland?", "Matterhorn", "Dom", "Dufourspitze", "Allalin"],
		["To which year Switzerland dates its independence?", "1815", "1848", "1291", "1945"],
		["How many cantons are in Switzerland?", "24", "26", "28", "22"],
		["Which city is the seat of International Labour Organization?", "Genf", "Lausanne", "Bern", "St Gallen"],
		["Which reformer died in Geneva in 1564?", "Martin Luther", "John Calvin", "Ulrich Zwingli", "John Knox"]
	];
	
	function getDocument(x){
		return document.getElementById(x);
	}

	function renderQuestion(){
		quiz = getDocument("quiz");
		if(pos >= questions.length){
			quiz.innerHTML = "<h2>You got "+correct+" of "+questions.length+" questions correct</h2>";
			getDocument("test_status").innerHTML = "Test completed";
			// resets the variable to allow users to restart the test
			pos = 0;
			correct = 0;
			// stops rest of renderQuestion function running when test is completed
			return false;
		}

		getDocument("test_status").innerHTML = "Question "+(pos+1)+" of "+questions.length;
		question = questions[pos][0];
		chA = questions[pos][1];
		chB = questions[pos][2];
		chC = questions[pos][3];
		chD = questions[pos][4];
		quiz.innerHTML = "<h3>"+question+"</h3>";
		// the += appends to the data we started on the line above
		quiz.innerHTML += "<input type='radio' name='choices' value='A'> "+chA+"<br>";
		quiz.innerHTML += "<input type='radio' name='choices' value='B'> "+chB+"<br>";
		quiz.innerHTML += "<input type='radio' name='choices' value='C'> "+chC+"<br>";
		quiz.innerHTML += "<input type='radio' name='choices' value='D'> "+chD+"<br><br>";
		quiz.innerHTML += "<button onclick='checkAnswer()'>Submit Answer</button>";
	}

	function checkAnswer(){
		// use getElementsByName because we have an array which it will loop through
		choices = document.getElementsByName("choices");
		for(var i=0; i<choices.length; i++){
			if(choices[i].checked){
				choice = choices[i].value;
			}
		}


		// checks if answer matches the correct choice
		if((pos)==0 && choice == "D"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==1 && choice == "D"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==2 && choice == "C"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==3 && choice == "C"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==4 && choice == "A"){
			//each time there is a correct answer this value increases
			correct++;
		}
		if((pos)==5 && choice == "A"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==6 && choice == "C"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==7 && choice == "B"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==8 && choice == "A"){
			//each time there is a correct answer this value increases
			correct++;
		}

		if((pos)==9 && choice == "B"){
			//each time there is a correct answer this value increases
			correct++;
		}

		timeleft = 11;

		// changes position of which character user is on
		pos++;
		// then the renderQuestion function runs again to go to next question
		renderQuestion();
	}

	window.addEventListener("load", renderQuestion, false);

	//Timer

	var downloadTimer = setInterval(function(){
		console.log("Pos "+pos)
		if(timeleft <= 0){
			clearInterval(downloadTimer);
			pos++;
			renderQuestion();
			timeleft = 11;
			var downloadTimer = setInterval(function(){

			}, 1000);
		} else {
			document.getElementById("countdown").innerHTML = timeleft;
		}
		timeleft -= 1;
	}, 1000);

</script>

	<link rel="stylesheet" href="style.css">

</head>


                             
<body>                         

<div id="all">
	<!--  Questions taken from http://www.testedich.de/quizerstellungneu/dasquiztd.php3?testid=999895847 -->
	<h2 id="test_status"></h2>
	<div id="quiz"></div>
	<div id="countdown"></div>



</div>


</body>

</html>